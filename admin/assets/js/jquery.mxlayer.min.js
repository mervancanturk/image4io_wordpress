/**
 * @name MXLayer.js
 * @version 0.0.1
 * @create 2015-09-15
 * @lastmodified 2015-09-15 17:36
 * @description jQuery popup layer plugin
 * @author MuFeng (http://mufeng.me)
 * @url http://mufeng.me
 **/
;(function(b){var c=function(a){this.settings=a;console.log(this.settings);this.layout()};c.prototype={layout:function(){var a=b(this.html());b("body").append(a);this.element=a;this.settings.sidebar&&(this.element.addClass("sidebar"),this.element.find(".mxlayer-sidebar-body").html(this.settings.sidebar));this.element.find(".mxlayer-main-header h1").text(this.settings.title);this.element.find(".mxlayer-confirm-button").text(this.settings.button);this.element.find(".mxlayer-main-body").html(this.settings.main);
this.settings.width&&this.settings.height&&this.element.find(".mxlayer-content").css({width:this.settings.width,height:this.settings.height,left:"50%",top:"50%",marginLeft:-this.settings.width/2,marginTop:-this.settings.height/2});this.addEvent()},addEvent:function(){var a=this,d=a.element.find(".mxlayer-close"),c=a.element.find(".mxlayer-confirm-button");d.on("click",function(c){console.log(b(this));a.fireEvent();a.settings.cancel.call(null,a)});c.on("click",function(b){a.settings.confirm.call(null,
a)})},fireEvent:function(){var a=this.element.find(".mxlayer-close"),b=this.element.find(".mxlayer-confirm-button");a.off("click");b.off("click");this.element.remove();this.element=null},html:function(){return'<div class="mxlayer-container">\r\n                        <div class="mxlayer-content">\r\n                            <div class="mxlayer-sidebar">\r\n                                <div class="mxlayer-sidebar-body"></div>\r\n                            </div>\r\n                            <div class="mxlayer-main-header">\r\n                                <h1></h1>\r\n                                <a href="javascript:;" class="mxlayer-close"></a>\r\n                            </div>\r\n                            <div class="mxlayer-main-body"></div>\r\n                            <div class="mxlayer-main-footer">\r\n                                <a href="javascript:;" class="mxlayer-confirm-button"></a>\r\n                            </div>\r\n                        </div>\r\n                        <div class="mxlayer-backdrop">\r\n                        </div>\r\n                    </div>'}};
b.mxlayer=function(a){a=b.extend({title:"Title",sidebar:!1,main:!1,button:"Confirm",width:0,height:0,cancel:function(){},confirm:function(){}},a);return new c(a)}})(jQuery);